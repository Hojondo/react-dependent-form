{"version":3,"file":"bundle.js","sources":["../src/FormContext.ts","../src/Form.tsx","../src/components/TipLabel.tsx","../src/FieldText.tsx","../src/FieldSelect.tsx","../src/FieldAutoInput.tsx","../src/FieldRadio.tsx","../src/components/StyledFormLabel.ts","../node_modules/react-dates/lib/theme/DefaultTheme.js","../node_modules/react-dates/lib/utils/registerInterfaceWithDefaultTheme.js","../node_modules/react-dates/lib/utils/registerCSSInterfaceWithDefaultTheme.js","../node_modules/react-dates/lib/initialize.js","../src/FieldDateRangePicker.tsx","../src/FieldDatePicker.tsx","../src/FieldMultiCascaderSelect.tsx","../src/FieldDateTimePicker.tsx","../src/FormResetBtn.tsx","../src/index.tsx"],"sourcesContent":["import React, { createContext, useContext } from 'react';\nimport { UseFormMethods, FieldValues } from 'react-hook-form';\n\ninterface ContextFormat extends UseFormMethods<FieldValues> {\n  defaultValues?: Object;\n}\n\nexport const formContext = createContext<ContextFormat>(<ContextFormat>{});\nexport const FormProvider = formContext.Provider;\nexport const useFormContext = () => useContext(formContext);\n","import React from 'react';\nimport { useForm } from 'react-hook-form';\nimport { FormProvider } from './FormContext';\n\ntype OnSubmitFC = (record: {}) => void;\ninterface FormProps {\n  onSubmit: OnSubmitFC;\n  defaultValues?: {};\n  children?: JSX.Element | JSX.Element[];\n}\n\nexport default function Form({\n  onSubmit,\n  children,\n  defaultValues = {},\n  ...otherProps\n}: FormProps) {\n  const {\n    unregister,\n    register,\n    handleSubmit,\n    watch,\n    errors,\n    reset,\n    trigger,\n    setValue,\n    getValues,\n    control,\n    setError,\n    clearErrors,\n  } = useForm({\n    mode: 'onSubmit',\n    defaultValues,\n  });\n  const HOC_submit = (Fn: OnSubmitFC) => () => {\n    Fn(watch());\n  }; // !mark: change the fieldsVal to be watch(), tend to get real vals\n  console.log(watch());\n  return (\n    <FormProvider\n      //@ts-ignore[1]\n      value={{\n        unregister,\n        register,\n        errors,\n        setValue,\n        getValues,\n        trigger,\n        control,\n        watch,\n        reset,\n        setError,\n        clearErrors,\n        defaultValues,\n      }}\n    >\n      <form onSubmit={handleSubmit(HOC_submit(onSubmit))} {...otherProps}>\n        {children}\n      </form>\n    </FormProvider>\n  );\n}\n// todo 封装渲染render方法\n// todo 统一起来所有的dependonField 和 affectField 关联关系，在form中，可以尝试useEffect\n","import React from 'react';\nimport { Tooltip } from '@material-ui/core';\nimport { ErrorOutline as ErrorOutlineIcon } from '@material-ui/icons';\n\nexport default function TipLabel({\n  required,\n  label,\n  tips,\n}: {\n  required: boolean;\n  label: string;\n  tips: string;\n}) {\n  return (\n    <div style={{ display: 'flex', alignItems: 'center' }}>\n      <div>{(required ? '* ' : '') + label}</div>\n      <Tooltip\n        title={\n          <pre style={{ marginBottom: 0, whiteSpace: 'break-spaces' }}>\n            {tips}\n          </pre>\n        }\n      >\n        <ErrorOutlineIcon\n          style={{ fontSize: 'inherit', marginLeft: '.25rem' }}\n        />\n      </Tooltip>\n    </div>\n  );\n}\n","import React, { useEffect, useMemo } from \"react\";\nimport { TextField } from \"@material-ui/core\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport { Controller } from \"react-hook-form\";\n\nimport { useFormContext } from \"./FormContext\";\nimport TipLabel from \"./components/TipLabel\";\n\nimport { RegisterType, ExcludeKeys } from \"./types\";\n\nconst StyledTexfield = withStyles({\n  root: {\n    \"& .MuiInputLabel-root\": {\n      pointerEvents: \"unset\",\n    },\n  },\n})(TextField);\n\ninterface InputProps\n  extends Omit<React.HTMLProps<HTMLInputElement>, ExcludeKeys> {\n  name: string;\n  label: string;\n  multiline?: boolean;\n  rowsMax?: number;\n  defaultValue?: string;\n  tips?: string;\n  disabled?: boolean | ((record: Object, actionType?: string) => boolean);\n  autoFocus?: boolean;\n  registerConfig?: RegisterType;\n  affectFields?: string[];\n  dependOnFields?: string[];\n}\n\nexport default function LiteFieldText({\n  name,\n  multiline = false,\n  rowsMax = 4,\n  label,\n  defaultValue,\n  disabled = false,\n  autoFocus = false,\n  placeholder = \"Input\",\n  registerConfig = {\n    required: false,\n  },\n  tips = \"\",\n  affectFields,\n  dependOnFields,\n  ...otherProps\n}: InputProps) {\n  // *custom type safety for text\n  type KeyofOtherProps = keyof typeof otherProps;\n  function isKeyofInputElement(prop: any): prop is KeyofOtherProps {\n    return prop in HTMLInputElement.prototype;\n  }\n\n  const {\n    watch,\n    errors,\n    setValue,\n    trigger,\n    control,\n    clearErrors,\n  } = useFormContext();\n\n  // *compatible register config\n  const RegisterConfigMemo = useMemo(\n    () =>\n      registerConfig instanceof Function\n        ? registerConfig(watch())\n        : registerConfig,\n    [registerConfig, watch()]\n  );\n  const { required } = RegisterConfigMemo;\n\n  // *force to change require message to 'Input cannot be empty!'\n  if (required === true)\n    registerConfig = { ...registerConfig, required: \"Input cannot be empty!\" };\n\n  // *set Label\n  let labelNode: string | JSX.Element = (required ? \"* \" : \"\") + label;\n  if (tips)\n    labelNode = (\n      <TipLabel required={Boolean(required)} label={label} tips={tips} />\n    );\n\n  // *compatible disabled data-type\n  const DisabledMemo = useMemo(\n    () => (disabled instanceof Function ? disabled(watch()) : disabled),\n    [watch()]\n  );\n  useEffect(() => {\n    if (DisabledMemo) clearErrors(name);\n    return () => {};\n  }, [DisabledMemo]);\n  const rules = useMemo(() => (DisabledMemo ? {} : registerConfig), [\n    DisabledMemo,\n    registerConfig,\n  ]);\n\n  return (\n    <Controller\n      name={name}\n      control={control}\n      rules={rules}\n      defaultValue={defaultValue ? defaultValue : \"\"}\n      render={props => (\n        <StyledTexfield\n          value={props.value}\n          multiline={multiline}\n          rowsMax={rowsMax}\n          fullWidth\n          disabled={DisabledMemo}\n          label={labelNode}\n          placeholder={placeholder}\n          autoFocus={autoFocus}\n          onChange={(v) => {\n            setValue(name, v.target.value);\n            if (affectFields && affectFields instanceof Array) {\n              affectFields.forEach((f) => {\n                setValue(f, null);\n              });\n            }\n            trigger(name);\n            dependOnFields && clearErrors(dependOnFields); // *in case for situation like two fields can't be same\n          }}\n          error={Boolean(errors[name])}\n          helperText={\n            <span style={{ position: \"absolute\" }}>\n              {errors[name] ? errors[name].message : \"\"}\n            </span>\n          }\n          variant=\"outlined\"\n          inputProps={Object.keys(otherProps).reduce(\n            (r, c) =>\n              isKeyofInputElement(c) ? { ...r, [c]: otherProps[c] } : r,\n            {}\n          )}\n          InputProps={{\n            startAdornment: <span></span>,\n          }}\n        />\n      )}\n    />\n  );\n}\n","import React, { useEffect, useState, useMemo, useCallback } from 'react';\nimport _ from 'lodash';\nimport { TextField, MenuItem } from '@material-ui/core';\nimport { Controller } from 'react-hook-form';\n\nimport { useFormContext } from './FormContext';\nimport TipLabel from './components/TipLabel';\nimport {\n  OptionDataObj,\n  OptionDataType,\n  RegisterType,\n  ExcludeKeys,\n} from './types';\n\ntype ValueFormat = string | number | boolean | readonly string[] | undefined;\n\ninterface SelectProps\n  extends Omit<React.HTMLProps<HTMLSelectElement>, ExcludeKeys> {\n  name: string;\n  label: string;\n  optionsData: OptionDataType;\n  defaultValue?: ValueFormat;\n  tips?: string;\n  disabled?: boolean | ((record: Object, actionType?: string) => boolean);\n  autoFocus?: boolean;\n  registerConfig?: RegisterType;\n  affectFields?: string[];\n  dependOnFields?: string[];\n}\n\nconst CreateCompatibleValueFC = (optionsObj: Array<OptionDataObj>) => (\n  val: string | OptionDataObj | boolean,\n) => {\n  return typeof val === 'string' || typeof val === 'boolean'\n    ? val\n    : val && optionsObj.find(o => o.value === val.value)?.value;\n};\n\nexport default function QueryFieldSelect({\n  name,\n  label,\n  placeholder = 'Select',\n  tips,\n  optionsData = [],\n  defaultValue,\n  disabled,\n  autoFocus = false,\n  registerConfig,\n  affectFields,\n  dependOnFields,\n  ...otherProps\n}: SelectProps) {\n  // *custom type safety for select\n  type KeyofOtherProps = keyof typeof otherProps;\n  function isKeyofInputElement(prop: any): prop is KeyofOtherProps {\n    return prop in HTMLSelectElement.prototype;\n  }\n  const {\n    errors,\n    trigger,\n    setValue,\n    control,\n    watch,\n    clearErrors,\n  } = useFormContext();\n\n  // *get options data depend on special fields' value\n  const dependOnFieldsArray = useMemo(\n    () => (dependOnFields ? dependOnFields.map(f => watch()[f]) : null),\n    [watch()],\n  );\n\n  // todo fix the warning in devtool when get async option after component-rendered\n  const [optionsDataState, setOptionsDataState] = useState<\n    Array<OptionDataObj>\n  >([]);\n  const compatibleValueFn = useCallback(\n    CreateCompatibleValueFC(optionsDataState),\n    [optionsDataState],\n  );\n  useEffect(() => {\n    // !mark: use Promise to compatible whatever the (return of)optionData of parmas is an array or promise\n    Promise.resolve(\n      optionsData instanceof Function ? optionsData(watch()) : optionsData,\n    ).then(res => {\n      setOptionsDataState(res);\n    });\n    return () => {};\n  }, [dependOnFieldsArray, optionsData, watch()]);\n\n  // *compatible register config\n  const RegisterConfigMemo = useMemo(() => {\n    let configTemp = {\n      ...(registerConfig instanceof Function\n        ? registerConfig(watch())\n        : registerConfig),\n    };\n    if (configTemp.required) {\n      configTemp.required = false; // !mark: cause react-hook-form can't support value (boolean-false) validation, need to suppress native mandatory\n      configTemp.validate = {\n        ...configTemp.validate,\n        empty: data =>\n          _.some(optionsDataState, o =>\n            _.isEqual(compatibleValueFn(data), o.value),\n          ) || 'Select cannot be empty!', // *force to change require message to unified format\n      };\n    }\n    return configTemp;\n  }, [registerConfig, watch(), optionsDataState]);\n\n  // *set Label\n  const required = RegisterConfigMemo.validate?.empty;\n  const labelNode = useMemo(\n    () =>\n      tips ? (\n        <TipLabel required={Boolean(required)} label={label} tips={tips} />\n      ) : (\n        (required ? '* ' : '') + label\n      ),\n    [required],\n  );\n\n  // *compatible disabled data-type\n  const DisabledMemo = useMemo(\n    () => (disabled instanceof Function ? disabled(watch()) : disabled),\n    [dependOnFieldsArray],\n  );\n  useEffect(() => {\n    if (DisabledMemo) clearErrors(name);\n    return () => {};\n  }, [DisabledMemo]);\n\n  // *register config\n  const rules = useMemo(() => (DisabledMemo ? {} : RegisterConfigMemo), [\n    DisabledMemo,\n    RegisterConfigMemo,\n  ]);\n  return (\n    <Controller\n      defaultValue={defaultValue ?? ''}\n      control={control}\n      name={name}\n      rules={rules}\n      render={props => {\n        return (\n          <TextField\n            value={compatibleValueFn(props.value) ?? ''}\n            fullWidth\n            select\n            name={name}\n            disabled={DisabledMemo}\n            label={labelNode}\n            autoFocus={autoFocus}\n            variant=\"outlined\"\n            onChange={e => {\n              setValue(name, e.target.value);\n              if (affectFields && affectFields instanceof Array) {\n                affectFields.forEach(f => {\n                  setValue(f, null);\n                });\n              }\n              trigger(name);\n            }}\n            error={Boolean(errors[name])}\n            helperText={\n              <span style={{ position: 'absolute' }}>\n                {errors[name] ? errors[name].message : ''}\n              </span>\n            }\n            InputLabelProps={{ shrink: true }} //!mark: aim to show a placeholder like text-input\n            SelectProps={{\n              displayEmpty: true,\n              renderValue: value => {\n                if (optionsDataState.map(o => o.value).includes(value as any))\n                  return optionsDataState.find(o => o.value === value)?.label;\n                else\n                  return (\n                    <span style={{ color: 'rgba(0, 0, 0, 0.42)' }}>\n                      {placeholder}\n                    </span>\n                  ); //!mark: aim to show a placeholder like text-input\n              },\n            }}\n            inputProps={Object.keys(otherProps).reduce(\n              (r, c) =>\n                isKeyofInputElement(c) ? { ...r, [c]: otherProps[c] } : r,\n              {},\n            )}\n          >\n            {_.sortBy(optionsDataState, o => o.label).map(o => (\n              <MenuItem\n                key={String(o.value)}\n                // @ts-ignore [1]\n                value={o.value}\n                disabled={o.disabled}\n              >\n                {o.label}\n              </MenuItem>\n            ))}\n          </TextField>\n        );\n      }}\n    />\n  );\n}\n","import React, { useEffect, useState, useMemo, useCallback } from \"react\";\nimport { TextField } from \"@material-ui/core\";\nimport { Autocomplete } from \"@material-ui/lab\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport { Controller } from \"react-hook-form\";\nimport _ from \"lodash\";\n\nimport { useFormContext } from \"./FormContext\";\nimport TipLabel from \"./components/TipLabel\";\n\nimport {\n  OptionDataObj,\n  OptionDataType,\n  RegisterType,\n  ExcludeKeys,\n} from \"./types\";\n\nconst StyledTextField = withStyles({\n  root: {\n    \"& .MuiInputLabel-outlined\": {\n      pointerEvents: \"unset\",\n    },\n  },\n})(TextField);\n\ntype ValueFormat = string | number | boolean | readonly string[] | undefined;\ninterface SelectProps\n  extends Omit<React.HTMLProps<HTMLInputElement>, ExcludeKeys> {\n  name: string;\n  label: string;\n  optionsData: OptionDataType;\n  multiple?: boolean;\n  defaultValue?: ValueFormat;\n  tips?: string;\n  disabled?: boolean | ((record: Object, actionType?: string) => boolean);\n  autoFocus?: boolean; //todo\n  registerConfig?: RegisterType;\n  affectFields?: string[];\n  dependOnFields?: string[];\n}\n\n// const CreateCompatibleValueFC = (optionsObj: Array<OptionDataObj>) => (\n//   val: string | OptionDataObj | boolean,\n// ) => {\n//   return typeof val === 'string' || typeof val === 'boolean'\n//     ? val\n//     : val && optionsObj.find(o => o.value === val.value)?.value;\n// };\n\nexport default function FieldAutoInput({\n  name,\n  label,\n  multiple = false,\n  optionsData,\n  defaultValue,\n  disabled,\n  placeholder = \"Input\",\n  tips,\n  registerConfig = { required: false },\n  affectFields,\n  dependOnFields,\n  ...otherProps\n}: SelectProps) {\n  const {\n    watch,\n    errors,\n    setValue,\n    trigger,\n    control,\n    clearErrors,\n  } = useFormContext();\n\n  // *get options data depend on special fields' value\n  const dependOnFieldsArray = useMemo(\n    () => (dependOnFields ? dependOnFields.map((f) => watch()[f]) : null),\n    [watch()]\n  );\n\n  const [optionsDataState, setOptionsDataState] = useState<\n    Array<OptionDataObj>\n  >([]);\n  // const compatibleValueFn = useCallback(\n  //   CreateCompatibleValueFC(optionsDataState),\n  //   [optionsDataState],\n  // );\n  useEffect(() => {\n    // !mark: use Promise to compatible whatever the (return of)optionData of parmas is an array or promise\n    Promise.resolve(\n      optionsData instanceof Function ? optionsData(watch()) : optionsData\n    ).then((res) => {\n      setOptionsDataState(res);\n    });\n    return () => {};\n  }, [dependOnFieldsArray]);\n\n  // *compatible register config\n  const RegisterConfigMemo = useMemo(() => {\n    let configTemp = {\n      ...(registerConfig instanceof Function\n        ? registerConfig(watch())\n        : registerConfig),\n    };\n\n    if (configTemp.required) {\n      configTemp.required = false; // !mark: cause react-hook-form can't support value (boolean-false) validation, need to suppress native mandatory\n      configTemp.validate = {\n        ...configTemp.validate,\n        empty: (data) =>\n          _.some(optionsDataState, (o) => _.isEqual(data, o.value)) ||\n          \"Input cannot be empty!\", // *force to change require message to unified format\n      };\n    }\n    return configTemp;\n  }, [registerConfig, watch(), optionsDataState]);\n\n  // *set Label\n  const required = RegisterConfigMemo.validate?.empty;\n  const labelNode = useMemo(\n    () =>\n      tips ? (\n        <TipLabel required={Boolean(required)} label={label} tips={tips} />\n      ) : (\n        (required ? \"* \" : \"\") + label\n      ),\n    [required]\n  );\n\n  // *compatible disabled data-type\n  const DisabledMemo = useMemo(\n    () => (disabled instanceof Function ? disabled(watch()) : disabled),\n    [dependOnFieldsArray]\n  );\n  useEffect(() => {\n    if (DisabledMemo) clearErrors(name);\n    return () => {};\n  }, [DisabledMemo]);\n\n  // *register config\n  const rules = useMemo(() => (DisabledMemo ? {} : RegisterConfigMemo), [\n    DisabledMemo,\n    RegisterConfigMemo,\n  ]);\n\n  return (\n    <Controller\n      name={name}\n      control={control}\n      rules={rules}\n      defaultValue={defaultValue ?? (multiple ? [] : null)}\n      render={(props) => {\n        return (\n          <Autocomplete\n            multiple={multiple}\n            value={props.value}\n            disabled={DisabledMemo}\n            options={_.sortBy(optionsDataState, (o) => o.label).map(\n              (o) => o.value\n            )}\n            filterSelectedOptions\n            onChange={(e, v, reason) => {\n              console.log(v, reason);\n\n              setValue(name, v);\n              if (affectFields && affectFields instanceof Array) {\n                affectFields.forEach((f) => {\n                  setValue(f, null);\n                });\n              }\n              trigger(name);\n              dependOnFields && clearErrors(dependOnFields); // *in case for situation like two fields can't be same\n            }}\n            onInputChange={(e, v) => {\n              setValue(name, v);\n            }}\n            renderInput={(params) => {\n              return (\n                <StyledTextField\n                  {...params}\n                  variant=\"outlined\"\n                  label={labelNode}\n                  placeholder={placeholder}\n                  error={Boolean(errors[name])}\n                  helperText={\n                    <span style={{ position: \"absolute\" }}>\n                      {errors[name] ? errors[name].message : \"\"}\n                    </span>\n                  }\n                  InputProps={{\n                    ...params.InputProps,\n                    startAdornment: (\n                      <>\n                        <span></span>\n                        {params.InputProps.startAdornment}\n                      </>\n                    ),\n                  }}\n                />\n              );\n            }}\n            getOptionLabel={(x) => {\n              // todo\n              // !mark: there is a bug in Material-UI@v4 https://github.com/mui-org/material-ui/issues/19173#issuecomment-786109015;\n              // !mark: so if the async options later than component-mounted, just to use the value-string\n              return (\n                optionsDataState.find((o) => o.value === x)?.label ?? String(x)\n              );\n            }}\n            getOptionSelected={(option, value) => {\n              return _.isEqual(value, option);\n            }}\n          />\n        );\n      }}\n    />\n  );\n}\n\n// todo rename affectFields to clearFieldsOnChange\n// todo add freeSolo","import React, { useState, useEffect, useMemo, useCallback } from 'react';\nimport _ from 'lodash';\nimport {\n  Grid,\n  Radio,\n  FormControlLabel,\n  FormControl,\n  FormLabel,\n  FormHelperText,\n} from '@material-ui/core';\nimport { Controller } from 'react-hook-form';\n\nimport { useFormContext } from './FormContext';\nimport TipLabel from './components/TipLabel';\n\nimport {\n  OptionDataObj,\n  OptionDataType,\n  RegisterType,\n  ExcludeKeys,\n} from './types';\n\ntype ValueFormat = string | number | boolean | readonly string[] | undefined;\ninterface RadioProps\n  extends Omit<React.HTMLProps<HTMLInputElement>, ExcludeKeys> {\n  name: string;\n  label: string;\n  optionsData: OptionDataType;\n  defaultValue?: ValueFormat;\n  tips?: string;\n  disabled?: boolean | ((record: Object, actionType?: string) => boolean);\n  autoFocus?: boolean; //todo\n  registerConfig?: RegisterType;\n  affectFields?: string[];\n  dependOnFields?: string[];\n}\n\nconst CreateCompatibleValueFC = (optionsObj: Array<OptionDataObj>) => (\n  val: string | OptionDataObj | boolean,\n) => {\n  return typeof val === 'string' || typeof val === 'boolean'\n    ? val\n    : val && optionsObj.find(o => o.value === val.value)?.value;\n};\n\nexport default function FieldRadio({\n  name,\n  label,\n  optionsData = [],\n  defaultValue,\n  tips,\n  disabled = false,\n  autoFocus = false,\n  registerConfig,\n  affectFields,\n  dependOnFields,\n  ...otherProps\n}: RadioProps) {\n  // *custom type safety for select\n  type KeyofOtherProps = keyof typeof otherProps;\n  function isKeyofInputElement(prop: any): prop is KeyofOtherProps {\n    return prop in HTMLInputElement.prototype;\n  }\n\n  const {\n    watch,\n    errors,\n    trigger,\n    setValue,\n    control,\n    clearErrors,\n  } = useFormContext();\n\n  // *get options data depend on special fields' value\n  const dependOnFieldsArray = useMemo(\n    () => (dependOnFields ? dependOnFields.map(f => watch()[f]) : null),\n    [watch()],\n  );\n\n  const [optionsDataState, setOptionsDataState] = useState<\n    Array<OptionDataObj>\n  >([]);\n  const compatibleValueFn = useCallback(\n    CreateCompatibleValueFC(optionsDataState),\n    [optionsDataState],\n  );\n  useEffect(() => {\n    // !mark: use Promise to compatible whatever the (return of)optionData of parmas is an array or promise\n    Promise.resolve(\n      optionsData instanceof Function ? optionsData(watch()) : optionsData,\n    ).then(res => {\n      setOptionsDataState(res);\n    });\n    return () => {};\n  }, [dependOnFieldsArray]);\n\n  // *compatible register config\n  const RegisterConfigMemo = useMemo(() => {\n    let configTemp = {\n      ...(registerConfig instanceof Function\n        ? registerConfig(watch())\n        : registerConfig),\n    };\n\n    if (configTemp.required) {\n      configTemp.required = false; // !mark: cause react-hook-form can't support value (boolean-false) validation, need to suppress native mandatory\n      configTemp.validate = {\n        ...configTemp.validate,\n        empty: data =>\n          _.some(optionsDataState, o =>\n            _.isEqual(compatibleValueFn(data), o.value),\n          ) || 'Radio cannot be empty!', // *force to change require message to unified format\n      };\n    }\n    return configTemp;\n  }, [registerConfig, watch(), optionsDataState]);\n\n  // *set Label\n  const required = RegisterConfigMemo.validate?.empty;\n  const labelNode = useMemo(\n    () =>\n      tips ? (\n        <TipLabel required={Boolean(required)} label={label} tips={tips} />\n      ) : (\n        (required ? '* ' : '') + label\n      ),\n    [required],\n  );\n\n  // *compatible disabled data-type\n  const DisabledMemo = useMemo(\n    () => (disabled instanceof Function ? disabled(watch()) : disabled),\n    [dependOnFieldsArray],\n  );\n  useEffect(() => {\n    if (DisabledMemo) clearErrors(name);\n    return () => {};\n  }, [DisabledMemo]);\n\n  // *register config\n  const rules = useMemo(() => (DisabledMemo ? {} : RegisterConfigMemo), [\n    DisabledMemo,\n    RegisterConfigMemo,\n  ]);\n\n  return (\n    <Controller\n      name={name}\n      defaultValue={defaultValue ?? ''} // !mark: in case that the default value is boolean false\n      control={control}\n      rules={rules}\n      render={props => {\n        return (\n          <FormControl\n            component=\"fieldset\"\n            error={Boolean(errors[name])}\n            style={{ width: '100%' }}\n          >\n            <FormLabel component=\"legend\">{labelNode}</FormLabel>\n            <Grid container justify=\"space-between\">\n              {optionsDataState.map(o => (\n                <FormControlLabel\n                  key={String(o.value)}\n                  control={\n                    <Radio\n                      color=\"primary\"\n                      checked={_.isEqual(\n                        compatibleValueFn(props.value),\n                        o.value,\n                      )}\n                      value={compatibleValueFn(props.value) ?? ''}\n                      name={name}\n                      autoFocus={autoFocus}\n                      /** start: support cancel radio checked */\n                      onClick={() => {\n                        if (_.isEqual(compatibleValueFn(props.value), o.value))\n                          setValue(name, '');\n                        else setValue(name, o.value);\n                        if (affectFields && affectFields instanceof Array) {\n                          affectFields.forEach(f => {\n                            setValue(f, null);\n                          });\n                        }\n                        trigger(name);\n                      }}\n                      inputProps={Object.keys(otherProps).reduce(\n                        (r, c) =>\n                          isKeyofInputElement(c)\n                            ? { ...r, [c]: otherProps[c] }\n                            : r,\n                        {},\n                      )}\n                      /** end: support cancel radio checked */\n                      // onChange={() => {\n                      //   setValue(name, o.value);\n                      //   if (affectFields && affectFields instanceof Array) {\n                      //     affectFields.forEach(f => {\n                      //       setValue(f, null);\n                      //     });\n                      //   }\n                      //   trigger(name);\n                      // }}\n                    />\n                  }\n                  label={o.label}\n                  disabled={DisabledMemo || o.disabled}\n                />\n              ))}\n            </Grid>\n            <FormHelperText>\n              <span style={{ position: 'absolute' }}>\n                {errors[name] ? errors[name].message : ''}\n              </span>\n            </FormHelperText>\n          </FormControl>\n        );\n      }}\n    />\n  );\n}\n","import { FormLabel, withStyles } from \"@material-ui/core\";\n\nexport default withStyles((theme) => ({\n  root: {\n    fontSize: '0.75rem',\n    // zIndex: 6,\n    // pointerEvents: 'none',\n    // background: '#FFF',\n    padding: \"0 5px\",\n    width: \"auto\",\n    textAlign: \"left\",\n  },\n}))(FormLabel);\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar core = {\n  white: '#fff',\n  gray: '#484848',\n  grayLight: '#82888a',\n  grayLighter: '#cacccd',\n  grayLightest: '#f2f2f2',\n  borderMedium: '#c4c4c4',\n  border: '#dbdbdb',\n  borderLight: '#e4e7e7',\n  borderLighter: '#eceeee',\n  borderBright: '#f4f5f5',\n  primary: '#00a699',\n  primaryShade_1: '#33dacd',\n  primaryShade_2: '#66e2da',\n  primaryShade_3: '#80e8e0',\n  primaryShade_4: '#b2f1ec',\n  primary_dark: '#008489',\n  secondary: '#007a87',\n  yellow: '#ffe8bc',\n  yellow_dark: '#ffce71'\n};\nvar _default = {\n  reactDates: {\n    zIndex: 0,\n    border: {\n      input: {\n        border: 0,\n        borderTop: 0,\n        borderRight: 0,\n        borderBottom: '2px solid transparent',\n        borderLeft: 0,\n        outlineFocused: 0,\n        borderFocused: 0,\n        borderTopFocused: 0,\n        borderLeftFocused: 0,\n        borderBottomFocused: \"2px solid \".concat(core.primary_dark),\n        borderRightFocused: 0,\n        borderRadius: 0\n      },\n      pickerInput: {\n        borderWidth: 1,\n        borderStyle: 'solid',\n        borderRadius: 2\n      }\n    },\n    color: {\n      core: core,\n      disabled: core.grayLightest,\n      background: core.white,\n      backgroundDark: '#f2f2f2',\n      backgroundFocused: core.white,\n      border: 'rgb(219, 219, 219)',\n      text: core.gray,\n      textDisabled: core.border,\n      textFocused: '#007a87',\n      placeholderText: '#757575',\n      outside: {\n        backgroundColor: core.white,\n        backgroundColor_active: core.white,\n        backgroundColor_hover: core.white,\n        color: core.gray,\n        color_active: core.gray,\n        color_hover: core.gray\n      },\n      highlighted: {\n        backgroundColor: core.yellow,\n        backgroundColor_active: core.yellow_dark,\n        backgroundColor_hover: core.yellow_dark,\n        color: core.gray,\n        color_active: core.gray,\n        color_hover: core.gray\n      },\n      minimumNights: {\n        backgroundColor: core.white,\n        backgroundColor_active: core.white,\n        backgroundColor_hover: core.white,\n        borderColor: core.borderLighter,\n        color: core.grayLighter,\n        color_active: core.grayLighter,\n        color_hover: core.grayLighter\n      },\n      hoveredSpan: {\n        backgroundColor: core.primaryShade_4,\n        backgroundColor_active: core.primaryShade_3,\n        backgroundColor_hover: core.primaryShade_4,\n        borderColor: core.primaryShade_3,\n        borderColor_active: core.primaryShade_3,\n        borderColor_hover: core.primaryShade_3,\n        color: core.secondary,\n        color_active: core.secondary,\n        color_hover: core.secondary\n      },\n      selectedSpan: {\n        backgroundColor: core.primaryShade_2,\n        backgroundColor_active: core.primaryShade_1,\n        backgroundColor_hover: core.primaryShade_1,\n        borderColor: core.primaryShade_1,\n        borderColor_active: core.primary,\n        borderColor_hover: core.primary,\n        color: core.white,\n        color_active: core.white,\n        color_hover: core.white\n      },\n      selected: {\n        backgroundColor: core.primary,\n        backgroundColor_active: core.primary,\n        backgroundColor_hover: core.primary,\n        borderColor: core.primary,\n        borderColor_active: core.primary,\n        borderColor_hover: core.primary,\n        color: core.white,\n        color_active: core.white,\n        color_hover: core.white\n      },\n      blocked_calendar: {\n        backgroundColor: core.grayLighter,\n        backgroundColor_active: core.grayLighter,\n        backgroundColor_hover: core.grayLighter,\n        borderColor: core.grayLighter,\n        borderColor_active: core.grayLighter,\n        borderColor_hover: core.grayLighter,\n        color: core.grayLight,\n        color_active: core.grayLight,\n        color_hover: core.grayLight\n      },\n      blocked_out_of_range: {\n        backgroundColor: core.white,\n        backgroundColor_active: core.white,\n        backgroundColor_hover: core.white,\n        borderColor: core.borderLight,\n        borderColor_active: core.borderLight,\n        borderColor_hover: core.borderLight,\n        color: core.grayLighter,\n        color_active: core.grayLighter,\n        color_hover: core.grayLighter\n      }\n    },\n    spacing: {\n      dayPickerHorizontalPadding: 9,\n      captionPaddingTop: 22,\n      captionPaddingBottom: 37,\n      inputPadding: 0,\n      displayTextPaddingVertical: undefined,\n      displayTextPaddingTop: 11,\n      displayTextPaddingBottom: 9,\n      displayTextPaddingHorizontal: undefined,\n      displayTextPaddingLeft: 11,\n      displayTextPaddingRight: 11,\n      displayTextPaddingVertical_small: undefined,\n      displayTextPaddingTop_small: 7,\n      displayTextPaddingBottom_small: 5,\n      displayTextPaddingHorizontal_small: undefined,\n      displayTextPaddingLeft_small: 7,\n      displayTextPaddingRight_small: 7\n    },\n    sizing: {\n      inputWidth: 130,\n      inputWidth_small: 97,\n      arrowWidth: 24\n    },\n    noScrollBarOnVerticalScrollable: false,\n    font: {\n      size: 14,\n      captionSize: 18,\n      input: {\n        size: 19,\n        weight: 200,\n        lineHeight: '24px',\n        size_small: 15,\n        lineHeight_small: '18px',\n        letterSpacing_small: '0.2px',\n        styleDisabled: 'italic'\n      }\n    }\n  }\n};\nexports[\"default\"] = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = registerInterfaceWithDefaultTheme;\n\nvar _ThemedStyleSheet = _interopRequireDefault(require(\"react-with-styles/lib/ThemedStyleSheet\"));\n\nvar _DefaultTheme = _interopRequireDefault(require(\"../theme/DefaultTheme\"));\n\nfunction registerInterfaceWithDefaultTheme(reactWithStylesInterface) {\n  _ThemedStyleSheet[\"default\"].registerInterface(reactWithStylesInterface);\n\n  _ThemedStyleSheet[\"default\"].registerTheme(_DefaultTheme[\"default\"]);\n}","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = registerCSSInterfaceWithDefaultTheme;\n\nvar _reactWithStylesInterfaceCss = _interopRequireDefault(require(\"react-with-styles-interface-css\"));\n\nvar _registerInterfaceWithDefaultTheme = _interopRequireDefault(require(\"./registerInterfaceWithDefaultTheme\"));\n\nfunction registerCSSInterfaceWithDefaultTheme() {\n  (0, _registerInterfaceWithDefaultTheme[\"default\"])(_reactWithStylesInterfaceCss[\"default\"]);\n}","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _registerCSSInterfaceWithDefaultTheme = _interopRequireDefault(require(\"./utils/registerCSSInterfaceWithDefaultTheme\"));\n\n(0, _registerCSSInterfaceWithDefaultTheme[\"default\"])();","import React, { useState, useContext, useEffect, useMemo } from \"react\";\nimport { formContext } from \"./FormContext\";\nimport { Controller } from \"react-hook-form\";\nimport { FormControl, FormHelperText } from \"@material-ui/core\";\nimport StyledFormLabel from \"./components/StyledFormLabel\";\nimport TipLabel from \"./components/TipLabel\";\n\nimport \"react-dates/initialize\";\nimport \"react-dates/lib/css/_datepicker.css\";\nimport \"./css/react_dates_overrides.less\";\nimport { DateRangePicker, FocusedInputShape } from \"react-dates\";\nimport * as moment from \"moment\";\n\nimport { RegisterType, ExcludeKeys } from \"./types\";\n\n// type DateFormat = `${number}${number}${number}${number}-${number}${number}-${number}${number}`;\ninterface TimeRangeFormat {\n  startDate?: moment.Moment;\n  endDate?: moment.Moment;\n}\n// YYYY-MM-DDTHH:mm\ninterface DateTimeRangePickerProps\n  extends Omit<React.HTMLProps<HTMLInputElement>, ExcludeKeys> {\n  name: string;\n  label: string;\n  defaultValue?: TimeRangeFormat;\n  tips?: string;\n  disabled?: boolean | ((record: Object, actionType?: string) => boolean);\n  autoFocus?: boolean;\n  registerConfig?: RegisterType;\n  affectFields?: string[];\n  dependOnFields?: string[];\n}\n\ninterface DateRangeProps {\n  timeRangeObj: TimeRangeFormat;\n  name: string;\n  affectFields?: string[];\n}\n\nfunction ReactDateRangePicker({\n  timeRangeObj,\n  name,\n  affectFields,\n}: DateRangeProps) {\n  const { setValue, trigger } = useContext(formContext);\n  const [focusedInput, setFocusedInput] = useState<FocusedInputShape | null>(\n    null\n  );\n\n  const uploadNewDate = ({\n    startDate,\n    endDate,\n  }: {\n    startDate: moment.Moment | null;\n    endDate: moment.Moment | null;\n  }) => {\n    setValue(name, {\n      startDate: startDate\n        ? moment.utc(startDate.format(\"YYYY-MM-DD\"))\n        : startDate,\n      endDate: endDate\n        ? moment\n            .utc(endDate.format(\"YYYY-MM-DD\"))\n            .set({ hour: 23, minute: 59, second: 59 })\n        : endDate,\n    });\n    if (affectFields && affectFields instanceof Array) {\n      affectFields.forEach((f) => {\n        setValue(f, null);\n      });\n    }\n    trigger(name);\n  };\n  return (\n    <DateRangePicker\n      block\n      // appendToBody\n      // showClearDates\n      // reopenPickerOnClearDates\n      hideKeyboardShortcutsPanel\n      noBorder\n      numberOfMonths={2}\n      startDate={timeRangeObj.startDate ?? null}\n      startDateId={`${name}_start_date_id`}\n      endDate={timeRangeObj.endDate ?? null}\n      endDateId={`${name}_end_date_id`}\n      onDatesChange={uploadNewDate}\n      focusedInput={focusedInput}\n      onFocusChange={(focusedInput: FocusedInputShape | null) =>\n        setFocusedInput(focusedInput)\n      }\n      isOutsideRange={() => false}\n      minimumNights={0}\n    />\n  );\n}\n\nexport default function FieldDateRangePicker({\n  name,\n  disabled,\n  label,\n  defaultValue,\n  registerConfig,\n  tips,\n  affectFields,\n  dependOnFields,\n  ...otherProps\n}: DateTimeRangePickerProps) {\n  const { watch, errors, clearErrors, setValue, trigger, control } = useContext(\n    formContext\n  );\n\n  // *define Fields-value Array depend on special fields' value\n  const dependOnFieldsArray = useMemo(\n    () => (dependOnFields ? dependOnFields.map((f) => watch()[f]) : undefined),\n    [watch()]\n  );\n\n  // *compatible disabled data-type\n  const DisabledMemo = useMemo(\n    () => (disabled instanceof Function ? disabled(watch()) : disabled),\n    [dependOnFieldsArray]\n  );\n  useEffect(() => {\n    if (DisabledMemo) clearErrors(name);\n    return () => {};\n  }, [DisabledMemo]);\n\n  // *compatible register config\n  const RegisterConfigMemo = useMemo(\n    () => ({\n      ...(registerConfig instanceof Function\n        ? registerConfig(watch())\n        : registerConfig),\n    }),\n    [registerConfig, watch()]\n  );\n\n  // *set Label\n  const required = RegisterConfigMemo.validate?.empty;\n  const labelNode = useMemo(\n    () =>\n      tips ? (\n        <TipLabel required={Boolean(required)} label={label} tips={tips} />\n      ) : (\n        (required ? \"* \" : \"\") + label\n      ),\n    [required]\n  );\n\n  // *register config\n  const rules = useMemo(() => (DisabledMemo ? {} : RegisterConfigMemo), [\n    DisabledMemo,\n    RegisterConfigMemo,\n  ]);\n\n  return (\n    <Controller\n      control={control}\n      name={name}\n      defaultValue={defaultValue ?? {}}\n      rules={rules}\n      render={(props) => (\n        <FormControl\n          component=\"fieldset\"\n          error={Boolean(errors[name])}\n          fullWidth\n          disabled={DisabledMemo}\n          style={{\n            border: \"1px solid rgba(0, 0, 0, 0.23)\",\n            boxSizing: \"border-box\",\n            borderRadius: \"4px\",\n            padding: \"0 8px\",\n          }}\n          // {...otherProps}\n        >\n          {/* @ts-ignore[1] */}\n          <StyledFormLabel component=\"legend\">{labelNode}</StyledFormLabel>\n          <ReactDateRangePicker\n            timeRangeObj={props.value}\n            name={name}\n            affectFields={affectFields}\n          />\n          <FormHelperText>\n            <span style={{ position: \"absolute\" }}>\n              {errors[name] ? errors[name].message : \"\"}\n            </span>\n          </FormHelperText>\n        </FormControl>\n      )}\n    />\n  );\n}\n// todo use @material-picker-beta\n// or https://rsuitejs.com/components/date-range-picker/\n","import React, { useEffect, useMemo } from 'react';\nimport { TextField, IconButton } from '@material-ui/core';\nimport { useFormContext } from './FormContext';\nimport { Controller } from 'react-hook-form';\nimport { Close as CloseIcon } from '@material-ui/icons';\nimport TipLabel from './components/TipLabel';\n\nimport { RegisterType, ExcludeKeys } from './types';\n\n// string: `${number}${number}${number}${number}-${number}${number}-${number}${number}`\ntype ValueFormat = string | null;\n\ninterface DatePickerProps\n  extends Omit<React.HTMLProps<HTMLInputElement>, ExcludeKeys> {\n  name: string;\n  label: string;\n  defaultValue?: ValueFormat;\n  tips?: string;\n  disabled?: boolean | ((record: Object, actionType?: string) => boolean);\n  autoFocus?: boolean;\n  registerConfig?: RegisterType;\n  affectFields?: string[];\n  dependOnFields?: string[];\n}\n\nexport default function FiledDatePicker({\n  name,\n  disabled,\n  label,\n  placeholder = 'Search',\n  defaultValue,\n  registerConfig,\n  tips,\n  affectFields,\n  dependOnFields,\n  ...otherProps\n}: DatePickerProps) {\n  const {\n    watch,\n    errors,\n    clearErrors,\n    setValue,\n    trigger,\n    control,\n  } = useFormContext();\n\n  // *define Fields-value Array depend on special fields' value\n  const dependOnFieldsArray = useMemo(\n    () => (dependOnFields ? dependOnFields.map(f => watch()[f]) : undefined),\n    [watch()],\n  );\n\n  const uploadNewDate = (date: ValueFormat) => {\n    setValue(name, date);\n    trigger(name);\n  };\n\n  // *compatible disabled data-type\n  const DisabledMemo = useMemo(\n    () => (disabled instanceof Function ? disabled(watch()) : disabled),\n    [dependOnFieldsArray],\n  );\n  useEffect(() => {\n    if (DisabledMemo) clearErrors(name);\n    return () => {};\n  }, [DisabledMemo]);\n\n  // *compatible register config\n  const RegisterConfigMemo = useMemo(\n    () => ({\n      ...(registerConfig instanceof Function\n        ? registerConfig(watch())\n        : registerConfig),\n    }),\n    [registerConfig, watch()],\n  );\n\n  // *set Label\n  const required = RegisterConfigMemo.validate?.empty;\n  const labelNode = useMemo(\n    () =>\n      tips ? (\n        <TipLabel required={Boolean(required)} label={label} tips={tips} />\n      ) : (\n        (required ? '* ' : '') + label\n      ),\n    [required],\n  );\n\n  // *register config\n  const rules = useMemo(() => (DisabledMemo ? {} : RegisterConfigMemo), [\n    DisabledMemo,\n    RegisterConfigMemo,\n  ]);\n\n  return (\n    <Controller\n      control={control}\n      name={name}\n      rules={rules}\n      defaultValue={defaultValue ?? ''}\n      render={props => {\n        return (\n          <TextField\n            label={labelNode}\n            placeholder={placeholder}\n            type=\"date\"\n            variant=\"outlined\"\n            value={props.value ?? ''}\n            error={Boolean(errors[name])}\n            helperText={\n              <span style={{ position: 'absolute' }}>\n                {errors[name] ? errors[name].message : ''}\n              </span>\n            }\n            disabled={DisabledMemo}\n            InputLabelProps={{\n              shrink: true,\n            }}\n            onChange={e => {\n              uploadNewDate(e.target.value as ValueFormat);\n              if (affectFields && affectFields instanceof Array) {\n                affectFields.forEach(f => {\n                  setValue(f, null);\n                });\n              }\n            }}\n            InputProps={{\n              endAdornment: (\n                <IconButton\n                  onClick={e => {\n                    uploadNewDate(null);\n                  }}\n                  disabled={DisabledMemo}\n                >\n                  <CloseIcon fontSize=\"small\" />\n                </IconButton>\n              ),\n            }}\n          />\n        );\n      }}\n    />\n  );\n}\n// todo use @material-picker-beta\n// or https://rsuitejs.com/components/date-range-picker/\n","import React, { useState, useMemo, useEffect, useCallback } from 'react';\nimport { Chip } from '@material-ui/core';\nimport { Cascader } from 'shineout';\nimport './css/so-cascader-overrides.less';\n\nimport { useFormContext } from './FormContext';\nimport { Controller } from 'react-hook-form';\nimport { FormControl, FormHelperText } from '@material-ui/core';\nimport TipLabel from './components/TipLabel';\nimport StyledFormLabel from './components/StyledFormLabel';\n\nimport { RegisterType, ExcludeKeys } from './types';\n\ntype validValue = string | boolean | number | bigint;\n\ninterface OptionDataObj {\n  value: validValue;\n  label: string;\n  children?: OptionDataObj[];\n}\n\ntype OptionDataType =\n  | Array<OptionDataObj>\n  | ((record: Object) => Promise<Array<OptionDataObj>>);\n\ninterface MultipleSelectProps\n  extends Omit<React.HTMLProps<HTMLInputElement>, ExcludeKeys> {\n  name: string;\n  label: string;\n  defaultValue?: validValue[];\n  optionsData: OptionDataType;\n  tips?: string;\n  disabled?: boolean | ((record: Object, actionType?: string) => boolean);\n  autoFocus?: boolean;\n  registerConfig?: RegisterType;\n  affectFields?: string[];\n  dependOnFields?: string[];\n}\n\nexport default function FieldMultiCascaderSelect({\n  name,\n  label,\n  tips,\n  placeholder = 'Select',\n  disabled,\n  optionsData,\n  defaultValue,\n  registerConfig,\n  affectFields,\n  dependOnFields,\n  ...otherProps\n}: MultipleSelectProps) {\n  const {\n    watch,\n    errors,\n    clearErrors,\n    setValue,\n    trigger,\n    control,\n  } = useFormContext();\n\n  // *get options data depend on special fields' value\n  const dependOnFieldsArray = useMemo(\n    () => (dependOnFields ? dependOnFields.map(f => watch()[f]) : null),\n    [watch()],\n  );\n\n  // todo fix the warning in devtool when get async option after component-rendered\n  const [optionsDataState, setOptionsDataState] = useState<\n    Array<OptionDataObj>\n  >([]);\n\n  useEffect(() => {\n    // !mark: use Promise to compatible whatever the (return of)optionData of parmas is an array or promise\n    Promise.resolve(\n      optionsData instanceof Function ? optionsData(watch()) : optionsData,\n    ).then(res => {\n      setOptionsDataState(res);\n    });\n    return () => {};\n  }, [dependOnFieldsArray, optionsData, watch()]); // todo replace watch() with more accurate array list\n\n  // *compatible register config\n  const RegisterConfigMemo = useMemo(() => {\n    let configTemp = {\n      ...(registerConfig instanceof Function\n        ? registerConfig(watch())\n        : registerConfig),\n    };\n    return configTemp;\n  }, [registerConfig, watch(), optionsDataState]);\n\n  // *set Label\n  const required = RegisterConfigMemo.validate?.empty;\n  const labelNode = useMemo(\n    () =>\n      tips ? (\n        <TipLabel required={Boolean(required)} label={label} tips={tips} />\n      ) : (\n        (required ? '* ' : '') + label\n      ),\n    [required],\n  );\n\n  // *compatible disabled data-type\n  const DisabledMemo = useMemo(\n    () => (disabled instanceof Function ? disabled(watch()) : disabled),\n    [dependOnFieldsArray],\n  );\n  useEffect(() => {\n    if (DisabledMemo) clearErrors(name);\n    return () => {};\n  }, [DisabledMemo]);\n\n  // *register config\n  const rules = useMemo(() => (DisabledMemo ? {} : RegisterConfigMemo), [\n    DisabledMemo,\n    RegisterConfigMemo,\n  ]);\n\n  const flattenNestArray = (nestedArray: OptionDataObj[]) =>\n    nestedArray.reduce(\n      (r: OptionDataObj[], c) => [...r, c, ...(c.children ?? [])],\n      [],\n    ); // 2 level-mode nested array\n\n  const uploadNewData = (valueArray: validValue[], selected?: boolean) => {\n    setValue(\n      name,\n      flattenNestArray(optionsDataState)\n        .filter(i => valueArray.includes(i.value))\n        .map(i => i.value),\n    );\n    if (affectFields && affectFields instanceof Array) {\n      affectFields.forEach(f => {\n        setValue(f, null);\n      });\n    }\n    trigger(name);\n  };\n\n  return (\n    <Controller\n      control={control}\n      name={name}\n      defaultValue={defaultValue ?? []}\n      rules={rules}\n      render={props => {\n        console.log(props.value);\n\n        return (\n          <FormControl\n            component=\"fieldset\"\n            error={Boolean(errors[name])}\n            style={{ width: '100%' }}\n          >\n            {/* @ts-ignore[1] */}\n            <StyledFormLabel component=\"legend\">{labelNode}</StyledFormLabel>\n            {optionsDataState.length ? (\n              <Cascader\n                placeholder={placeholder}\n                data={optionsDataState}\n                keygen=\"value\"\n                mode={2}\n                expandTrigger=\"hover\"\n                // @ts-ignore[1]\n                disabled={DisabledMemo ?? false}\n                clearable={false}\n                value={props.value}\n                onChange={uploadNewData}\n                renderItem={({ label }) => label}\n                renderResult={({ label }) => {\n                  console.log(label);\n\n                  return (\n                    <Chip\n                      key={label}\n                      label={label}\n                      style={{ cursor: 'pointer' }}\n                    />\n                  );\n                }}\n                className=\"so-cascader-overrides\"\n                absolute={true}\n              />\n            ) : null}\n            <FormHelperText>\n              <span style={{ position: 'absolute' }}>\n                {errors[name] ? errors[name].message : ''}\n              </span>\n            </FormHelperText>\n          </FormControl>\n        );\n      }}\n    />\n  );\n}\n// todo use https://rsuitejs.com/components/multi-cascader/\n","import React, { useMemo, useEffect } from 'react';\nimport moment, { MomentBuiltinFormat } from 'moment';\nimport { Controller } from 'react-hook-form';\nimport { TextField } from '@material-ui/core';\nimport { useFormContext } from './FormContext';\nimport TipLabel from './components/TipLabel';\n\nimport { RegisterType, ExcludeKeys } from './types';\n\n// const isISO = (input: any): input is ISOTimeFormat =>\n//   moment(input, moment.ISO_8601, true).isValid()\n\ntype ISOTimeFormat = string | null; // todo, hard to limit the value only allow ISO-format\n// YYYY-MM-DDTHH:mm\ninterface DateTimePickerProps\n  extends Omit<React.HTMLProps<HTMLInputElement>, ExcludeKeys> {\n  name: string;\n  label: string;\n  defaultValue?: ISOTimeFormat;\n  tips?: string;\n  disabled?: boolean | ((record: Object, actionType?: string) => boolean);\n  autoFocus?: boolean;\n  registerConfig?: RegisterType;\n  affectFields?: string[];\n  dependOnFields?: string[];\n}\n\nexport default function FieldDateTimePicker({\n  name,\n  disabled,\n  autoFocus = false,\n  label,\n  defaultValue,\n  placeholder = 'Search',\n  registerConfig,\n  tips,\n  affectFields,\n  dependOnFields,\n  ...otherProps // like step ...etc\n}: DateTimePickerProps) {\n  const {\n    watch,\n    errors,\n    clearErrors,\n    control,\n    setValue,\n    trigger,\n  } = useFormContext();\n\n  // *define Fields-value Array depend on special fields' value\n  const dependOnFieldsArray = useMemo(\n    () => (dependOnFields ? dependOnFields.map(f => watch()[f]) : undefined),\n    [watch()],\n  );\n\n  // *compatible disabled data-type\n  const DisabledMemo = useMemo(\n    () => (disabled instanceof Function ? disabled(watch()) : disabled),\n    [dependOnFieldsArray],\n  );\n  useEffect(() => {\n    if (DisabledMemo) clearErrors(name);\n    return () => {};\n  }, [DisabledMemo]);\n\n  // *compatible register config\n  const RegisterConfigMemo = useMemo(\n    () => ({\n      ...(registerConfig instanceof Function\n        ? registerConfig(watch())\n        : registerConfig),\n    }),\n    [registerConfig, watch()],\n  );\n\n  // *set Label\n  const required = RegisterConfigMemo.validate?.empty;\n  const labelNode = useMemo(\n    () =>\n      tips ? (\n        <TipLabel required={Boolean(required)} label={label} tips={tips} />\n      ) : (\n        (required ? '* ' : '') + label\n      ),\n    [required],\n  );\n\n  // *register config\n  const rules = useMemo(() => (DisabledMemo ? {} : RegisterConfigMemo), [\n    DisabledMemo,\n    RegisterConfigMemo,\n  ]);\n\n  return (\n    <Controller\n      control={control}\n      name={name}\n      rules={rules}\n      defaultValue={defaultValue ?? ''}\n      render={props => (\n        <TextField\n          label={labelNode}\n          value={props.value}\n          disabled={DisabledMemo}\n          placeholder={placeholder}\n          type=\"datetime-local\"\n          autoFocus={autoFocus}\n          error={Boolean(errors[name])}\n          helperText={\n            <span style={{ position: 'absolute' }}>\n              {errors[name] ? errors[name].message : ''}\n            </span>\n          }\n          InputLabelProps={{\n            shrink: true,\n          }}\n          variant=\"outlined\"\n          onChange={e => {\n            console.log(e.target.value);\n            setValue(\n              name,\n              moment.utc(e.target.value).format('YYYY-MM-DDTHH:mm'),\n            );\n            if (affectFields && affectFields instanceof Array) {\n              affectFields.forEach(f => {\n                setValue(f, null);\n              });\n            }\n            trigger(name);\n          }}\n        />\n      )}\n    ></Controller>\n  );\n}\n// todo use @material-picker-beta\n// or https://rsuitejs.com/components/date-range-picker/\n","import React from 'react';\nimport { Button } from '@material-ui/core';\nimport { useFormContext } from './FormContext';\n\nexport default function FormResetBtn({ optionFn }: { optionFn?: () => void }) {\n  const { reset, defaultValues } = useFormContext();\n  return (\n    <Button\n      key=\"reset\"\n      onClick={() => {\n        reset(defaultValues);\n        optionFn && optionFn();\n      }}\n    >\n      Cancel\n    </Button>\n  );\n}\n","export { default as Form } from './Form';\nexport { default as FieldText } from './FieldText';\nexport { default as FieldSelect } from './FieldSelect';\nexport { default as FieldAutoInput } from './FieldAutoInput';\nexport { default as FieldRadio } from './FieldRadio';\nexport { default as FieldDateRangePicker } from './FieldDateRangePicker';\nexport { default as FieldDatePicker } from './FieldDatePicker';\nexport { default as FieldMultiCascaderSelect } from './FieldMultiCascaderSelect';\nexport { default as FieldDateTimePicker } from './FieldDateTimePicker';\nexport { default as FormResetBtn } from './FormResetBtn';\nexport const a = 'ss'"],"names":["formContext","createContext","FormProvider","Provider","useFormContext","useContext","Form","_a","onSubmit","children","defaultValues","otherProps","unregister","register","handleSubmit","watch","errors","reset","trigger","setValue","getValues","control","setError","clearErrors","useForm","mode","HOC_submit","Fn","console","log","React","value","TipLabel","required","label","tips","style","display","alignItems","Tooltip","title","marginBottom","whiteSpace","ErrorOutlineIcon","fontSize","marginLeft","StyledTexfield","withStyles","root","pointerEvents","TextField","LiteFieldText","name","multiline","rowsMax","defaultValue","disabled","autoFocus","placeholder","registerConfig","affectFields","dependOnFields","isKeyofInputElement","prop","HTMLInputElement","prototype","RegisterConfigMemo","useMemo","Function","labelNode","Boolean","DisabledMemo","useEffect","rules","Controller","render","props","fullWidth","onChange","v","target","Array","forEach","f","error","helperText","position","message","variant","inputProps","Object","keys","reduce","r","c","InputProps","startAdornment","CreateCompatibleValueFC","optionsObj","val","find","o","QueryFieldSelect","optionsData","HTMLSelectElement","dependOnFieldsArray","map","optionsDataState","setOptionsDataState","useState","compatibleValueFn","useCallback","Promise","resolve","then","res","configTemp","validate","empty","data","_","some","isEqual","select","e","InputLabelProps","shrink","SelectProps","displayEmpty","renderValue","includes","color","sortBy","MenuItem","key","String","StyledTextField","FieldAutoInput","multiple","Autocomplete","options","filterSelectedOptions","reason","onInputChange","renderInput","params","getOptionLabel","x","getOptionSelected","option","FieldRadio","FormControl","component","width","FormLabel","Grid","container","justify","FormControlLabel","Radio","checked","onClick","FormHelperText","theme","padding","textAlign","_interopRequireDefault","require$$0","require$$1","ReactDateRangePicker","timeRangeObj","focusedInput","setFocusedInput","uploadNewDate","startDate","endDate","moment","utc","format","set","hour","minute","second","DateRangePicker","block","hideKeyboardShortcutsPanel","noBorder","numberOfMonths","startDateId","endDateId","onDatesChange","onFocusChange","isOutsideRange","minimumNights","FieldDateRangePicker","undefined","border","boxSizing","borderRadius","StyledFormLabel","FiledDatePicker","date","type","endAdornment","IconButton","CloseIcon","FieldMultiCascaderSelect","flattenNestArray","nestedArray","uploadNewData","valueArray","selected","filter","i","length","Cascader","keygen","expandTrigger","clearable","renderItem","renderResult","Chip","cursor","className","absolute","FieldDateTimePicker","FormResetBtn","optionFn","Button","a"],"mappings":"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"}